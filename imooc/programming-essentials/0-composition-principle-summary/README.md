# 计算机组成原理之概述篇

## 计算机的分类

### 超级计算机

功能最强、运算速度最快、存储容量最大的计算机，多用于国家高科技领域和尖端技术研究。

运算速度的单位是`TFlop/s`。

```
1TFlop/s = 每秒一万亿次浮点运算
```

`Intel(R) Core(TM) i7-6700K CPU @ 4.00GHz`：

```
44.87 GFlop/s = 0.04487 TFlop/s
```

### 大型计算机

具有高性能，可处理大量数据与复杂的运算，在大型机市场领域，`IBM`占据着很大的份额。

### 去IOE行动

- `I(IBM)`服务器提供商
- `O(Oracle)`数据库软件提供商
- `E(EMC)`存储设备提供商

`IOE`构成了从软件到硬件的商业数据库系统，代表了高维护费用的存储系统。

`2008`年，阿里巴巴提出去`IOE`概念：将海量数据从集中式的`Oracle`切换到分布式的`MySQL`集群，用普通的服务器代替价格昂贵的大型机。

### 普通服务器

不需要特殊的空调场所，具备不错的计算能力，可以完成较复杂的运算。

普通服务器已经代替了传统的大型机，成为大规模企业计算的中枢。

### 工作站

高端的通用微型计算机，提供比个人计算机更强大的性能。

类似于普通台式电脑，体积较大，但性能强劲。

### 微型计算机

又称为个人计算机，是最普通的一类计算机。

从构成的本质上来讲，个人计算机与其他类别计算机无异。

## 计算机的体系与结构

### 冯诺依曼体系

将程序指令和数据一起存储的计算机设计概念结构。

#### 体系诞生

早期计算机仅包含固定用途程序，改变程序需要更改计算机结构，重新设计电路。

故：将程序存储取来，并设计通用电路。

核心：存储程序指令，设计通用电路。

#### 计算机组成

1. 存储器：存储运行的程序，存储运行所需的数据。
2. 控制器：控制各组件工作。
3. 运算器：运行算数运算和逻辑运算。
4. 输入设备
5. 输出设备

现代计算机都是冯诺依曼计算机。

#### 功能

1. 能够把需要的程序和数据送至计算机中。
2. 能够长期记忆程序、数据、中间结果及最终运算结果的能力。
3. 能够具备算数、逻辑运算和数据传送等数据加工处理的能力。
4. 能够按照要求将处理结果输出给用户。

#### 瓶颈

![冯诺依曼体系](assets/architecture.png)

冯诺依曼瓶颈：因`CPU`与存储器相分离，在`CPU`与存储器之间的数据流量成为了效率非常严重的限制，`CPU`经常空转等待数据传输。

### 现代计算机的结构

现代计算机在冯诺依曼体系结构基础上进行修改，解决`CPU`与存储设备之间的性能差异问题。

![现代计算机的结构](assets/modern-architecture.png)

将存储器归入`CPU`，此处的存储器就是现在常说的`CPU`多级缓存，缓存是使用和`CPU`同样的`14`纳米工艺制造的硅半导体，成本高昂且非常占用`CPU`核心面积，故不能做成大容量。

## 计算机的层次与编程语言

### 程序翻译

代表语言：`C/C++`、`Object-C`、`Golang`。

![程序翻译](assets/translate.png)

### 程序解释

代表语言：`Python`、`PHP`、`JavaScript`。

![程序解释](assets/explain.png)

### 翻译 + 解释

代表语言：`Java`、`C#`。

![JVM虚拟机](assets/jvm.png)

### 计算机的层级

| 层级 | 特点 |
| ---- | ---- |
| 硬件逻辑层 | 门、触发器等逻辑电路组成 |
| 微程序机器层 | 微指令集，微指令所组成的微程序直接交由硬件执行 |
| 传统机器层 | `CPU`指令集(机器指令)，与硬件直接相关，不同架构的`CPU`使用不同的`CPU`指令集 |
| 操作系统层 | 向上提供简易操作界面，向下对接指令系统，管理硬件资源，是软件和硬件之间的适配层 |
| 汇编语言层 | 汇编语言，汇编器将其翻译成可直接执行的机器语言 |
| 高级语言层 | 广大程序员所接受的高级语言 |
| 应用层 | 各种应用软件 |

## 计算机的速度单位

### 容量单位

计算机只认识`0/1`两种状态，在物理层面，使用高低电平记录信息。

- `0/1`称为`bit`(比特位)
- `1 Byte = 8 bit`
- `1 KB = 1024 Byte`
- `1 MB = 1024 KB`
- `1 GB = 1024 MB`
- `1 TB = 1024 GB`
- `1 PB = 1024 TB`
- `1 EB = 1024 PB`

**习题**

`1G`内存，可以存储多少字节的数据？可以存储多少比特数据？

> ![答案](assets/expression-conversion.png)

为什么网上买的移动硬盘`500G`，其实只有`465G`？

> 硬盘厂商使用`10`进制标记容量，进制为`1000`，而不是`1024`，所以容量小。
> ![答案](assets/expression-calculation.png)

### 速度单位

**网络速度**

为什么电信拉的`100M`光纤，测试峰值速度只有`12M`每秒？

> 网络常用单位为`Mbps`，`100 Mbps = 100 Mbit/s = 12.5MB/s`。

**CPU频率**

`CPU`的速度一般体现为`CPU`的时钟频率，`CPU`的时钟频率的单位一般是赫兹`(Hz)`。

## 计算机的字符与编码集

### 字符编码集的历史

**ASCII码**

使用`7`个`bits`就可以完全表示`ASCII`码，共计`2^7 = 128`个字符，很多应用或者国家中的符号都无法表示。

**Extended ASCII码**

第一次对`ASCII`码进行扩充，`7bits => 8bits`，共计`256`个字符。

### 编码集

**GB 2312**

`1980`年发明，是我国最早最完备的编码集，共收录了`7445`个字符，但不符合国际标准。

**GBK**

`1995`年推出，向下兼容`GB 2312`，向上支持国际`ISO`标准，收录了`21003`个汉字，支持全部中日韩字符。

**Unicode**

兼容全球的字符集，`Unicode`定义了世界通用的符号集，`UTF-*`实现了该编码，`UTF-8`以字节为单位对`Unicode`进行编码。

> `Windows`系统默认使用`GBK`编码。