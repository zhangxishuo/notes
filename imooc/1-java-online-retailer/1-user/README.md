# 用户模块

## MyBatis

编写`SQL`语句时，切忌`SELECT *`，需要什么查什么。

随着业务的发展，数据表结构可能更改，可能查出敏感数据泄露安全性，或查出无用数据降低性能。

## 安全方案

即使在数据被拖库，代码被泄露，请求被劫持的情况下，也能保障用户的密码不被泄露。

- 使用`MD5`加密，但是随着彩虹表的出现，使得大量长度不够的密码可以从彩虹表中反推测出来。

彩虹表是一个用于加密散列函数逆运算的预先计算好的表，常用于破解加密过的密码散列。

- 为用户的短密码加上一段很长的字符，再计算`MD5`，使得反推原始密码很困难。这段长字符就称为盐`Salt`。

- 常用的哈希函数中，`SHA-256`、`SHA-512`会比`MD5`更安全，更难破解，可以采用`SHA-512`代替`MD5`。

- 为了防止盐值泄露后密码被穷举，使用`bcrypt`，计算密码很慢，穷举时间成本太高。